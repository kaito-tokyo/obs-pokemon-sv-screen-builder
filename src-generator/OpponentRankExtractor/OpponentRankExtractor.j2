#include <vector>
#include <map>
#include <string>
#include <utility>
#include <opencv2/opencv.hpp>
#include "OpponentRankExtractor.h"

static std::vector<std::vector<uchar>> TEXT_DATA = {
    {% for d in data %}
        {{ d }},
    {% endfor %}
};

static const std::vector<int> TEXT_COLS = {
    {% for r in cols %}
        {{ r }},
    {% endfor %}
};

const std::map<std::string, std::pair<int, int>> PAREN_MAP = {
    {% for e in parenMap %}
        {{ e }},
    {% endfor %}
};

const std::vector<cv::Mat> OpponentRankExtractor::PAREN_TEMPLATES = {
    {% for d in data %}
        cv::Mat(
            static_cast<int>(TEXT_DATA[{{ loop.index0 }}].size()) / TEXT_COLS[{{ loop.index0 }}],
            TEXT_COLS[{{ loop.index0 }}],
            CV_8U,
            TEXT_DATA[{{ loop.index0 }}].data()),
    {% endfor %}
};

